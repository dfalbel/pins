<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Use cases • pins</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../../bootstrap-toc.css">
<script src="../../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../../pkgdown.css" rel="stylesheet">
<script src="../../pkgdown.js"></script><link href="../../extra.css" rel="stylesheet">
<meta property="og:title" content="Use cases">
<meta property="og:description" content="pins">
<meta property="og:image" content="https://pins.rstudio.com/logo.png">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../../index.html">pins</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">0.99.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../../articles/pins.html">Get started</a>
</li>
<li>
  <a href="../../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../../articles/articles/pins-rstudio.html">Using Pins in RStudio</a>
    </li>
    <li>
      <a href="../../articles/articles/use-cases.html">Use cases</a>
    </li>
  </ul>
</li>
<li>
  <a href="../../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/rstudio/pins/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="use-cases_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Use cases</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/rstudio/pins/blob/master/vignettes/articles/use-cases.Rmd"><code>vignettes/articles/use-cases.Rmd</code></a></small>
      <div class="hidden name"><code>use-cases.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/rstudio/pins">pins</a></span><span class="op">)</span></code></pre></div>
<div id="reuse-tidy-data-sets" class="section level1">
<h1 class="hasAnchor">
<a href="#reuse-tidy-data-sets" class="anchor"></a>Reuse tidy data sets</h1>
<p>This notebook showcases the <code>pins</code> package ability to help you share and reuse tidy datasets with others. We will make use of the “A Million News Headlines” dataset from <a href="https://www.kaggle.com/therohk/million-headlines">kaggle.com/therohk/million-headlines</a>.</p>
<p>As a start, lets retrieve the dataset using <code>pins</code> and load it using <code>readr</code>. You will need to authenticate to Kaggle by downloading your token file from <a href="https://www.kaggle.com/me/account">kaggle.com/me/account</a>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/rstudio/pins">pins</a></span><span class="op">)</span>
<span class="fu"><a href="../../reference/board_register.html">board_register_kaggle</a></span><span class="op">(</span>token <span class="op">=</span> <span class="st">"path/to/kaggle.json"</span><span class="op">)</span>

<span class="va">news</span> <span class="op">&lt;-</span> <span class="fu"><a href="../../reference/pin_get.html">pin_get</a></span><span class="op">(</span><span class="st">"therohk/million-headlines"</span>, board <span class="op">=</span> <span class="st">"kaggle"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">readr</span><span class="fu">::</span><span class="fu">read_csv</span><span class="op">(</span><span class="op">)</span>

<span class="va">news</span></code></pre></div>
<pre><code># A tibble: 1,103,663 x 2
   publish_date headline_text                                     
          &lt;dbl&gt; &lt;chr&gt;                                             
 1     20030219 aba decides against community broadcasting licence
 2     20030219 act fire witnesses must be aware of defamation    
 3     20030219 a g calls for infrastructure protection summit    
 4     20030219 air nz staff in aust strike for pay rise          
 5     20030219 air nz strike to affect australian travellers     
 6     20030219 ambitious olsson wins triple jump                 
 7     20030219 antic delighted with record breaking barca        
 8     20030219 aussie qualifier stosur wastes four memphis match 
 9     20030219 aust addresses un security council over iraq      
10     20030219 australia is locked into war timetable opp        
# … with 1,103,653 more rows</code></pre>
<p>First, let’s clean up this dataset. For instance, the ‘publish_date’ column is a character, not a date:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">dplyr</span><span class="op">)</span>

<span class="va">news_cleaned</span> <span class="op">&lt;-</span> <span class="va">news</span> <span class="op">%&gt;%</span>
  <span class="fu">mutate</span><span class="op">(</span>publish_date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="va">publish_date</span><span class="op">)</span>, format <span class="op">=</span> <span class="st">"%Y%m%d"</span><span class="op">)</span><span class="op">)</span>

<span class="va">news_cleaned</span></code></pre></div>
<pre><code># A tibble: 1,103,663 x 2
   publish_date headline_text                                     
   &lt;date&gt;       &lt;chr&gt;                                             
 1 2003-02-19   aba decides against community broadcasting licence
 2 2003-02-19   act fire witnesses must be aware of defamation    
 3 2003-02-19   a g calls for infrastructure protection summit    
 4 2003-02-19   air nz staff in aust strike for pay rise          
 5 2003-02-19   air nz strike to affect australian travellers     
 6 2003-02-19   ambitious olsson wins triple jump                 
 7 2003-02-19   antic delighted with record breaking barca        
 8 2003-02-19   aussie qualifier stosur wastes four memphis match 
 9 2003-02-19   aust addresses un security council over iraq      
10 2003-02-19   australia is locked into war timetable opp        
# … with 1,103,653 more rows</code></pre>
<p>Let’s also assume we are interested in understanding when news outlets publish news, not what headlines are published. For this, we can keep the counts per day and month and throw away the other columns:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">news_totals</span> <span class="op">&lt;-</span> <span class="va">news_cleaned</span> <span class="op">%&gt;%</span>
  <span class="fu">group_by</span><span class="op">(</span><span class="va">publish_date</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">summarize</span><span class="op">(</span>count <span class="op">=</span> <span class="fu">n</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>We can now plot by month the total amount of news being produced by this news outlet:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">ggplot2</span><span class="op">)</span>

<span class="va">news_totals</span> <span class="op">%&gt;%</span>
  <span class="fu">group_by</span><span class="op">(</span>publish_date <span class="op">=</span> <span class="fu">lubridate</span><span class="fu">::</span><span class="fu">floor_date</span><span class="op">(</span><span class="va">publish_date</span>, <span class="st">"year"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">summarize</span><span class="op">(</span>count <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">count</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>x<span class="op">=</span><span class="va">publish_date</span>, y<span class="op">=</span><span class="va">count</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">geom_line</span><span class="op">(</span><span class="op">)</span> </code></pre></div>
<p><img src="images/reuse-analysis-ggplot2.png" style="width:70.0%"></p>
<p>Now, while this might complete our particular analysis, others in your team might be interested in easily fetching your tidy dataset, which you can now easily share with <code>pins</code> in any available board. The following example uses RStudio Connect but this board can also be replaced to use Kaggle, GitHub or even custom boards:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">pins</span><span class="fu">::</span><span class="fu"><a href="../../reference/pin.html">pin</a></span><span class="op">(</span><span class="va">news_totals</span>, board <span class="op">=</span> <span class="st">"rsconnect"</span><span class="op">)</span></code></pre></div>
<p><a href="https://beta.rstudioconnect.com/connect/#/apps/6522/access"><img src="images/reuse-analysis-rsconnect.png"></a></p>
<p>You can then use the board’s user interface to share this pin with others. A colleague can now reuse your tidy dataset by fetching it from the given board using pins:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../../reference/pin_get.html">pin_get</a></span><span class="op">(</span><span class="st">"news-totals"</span>, board <span class="op">=</span> <span class="st">"rsconnect"</span><span class="op">)</span></code></pre></div>
<pre><code># A tibble: 5,422 x 2
   publish_date count
   &lt;date&gt;       &lt;int&gt;
 1 2003-02-19     198
 2 2003-02-20     250
 3 2003-02-21     250
 4 2003-02-22     126
 5 2003-02-23     136
 6 2003-02-24     250
 7 2003-02-25     250
 8 2003-02-26     250
 9 2003-02-27     222
10 2003-02-28     249
# … with 5,412 more rows</code></pre>
<p>You can preview the RStudio Connect pin for this tidy dataset at <a href="https://beta.rstudioconnect.com/connect/#/apps/6522/access">beta.rstudioconnect.com/connect/#/apps/6522/access</a>.</p>
</div>
<div id="automating" class="section level1">
<h1 class="hasAnchor">
<a href="#automating" class="anchor"></a>Automating</h1>
<p>It is often useful to also consider automating this process. This is especially interesting for datasets that tend to get out-of-date constantly.</p>
<p>For example, if we were interested in updating a pin to track daily news from the <a href="http://feeds.bbci.co.uk/news/world/rss.xml">BBC World News RSS</a>, we could create the following <a href="https://rmarkdown.rstudio.com/">R Markdown</a> report to download the RSS feed, tidy the news, and publish a pin with the up-to-date news:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb11-1"><a href="#cb11-1"></a>---</span>
<span id="cb11-2"><a href="#cb11-2"></a>title: "RStudio Connect -- World News"</span>
<span id="cb11-3"><a href="#cb11-3"></a>---</span>
<span id="cb11-4"><a href="#cb11-4"></a></span>
<span id="cb11-5"><a href="#cb11-5"></a><span class="bn">```{r, setup, include = FALSE}</span></span>
<span id="cb11-6"><a href="#cb11-6"></a><span class="bn">library(pins)</span></span>
<span id="cb11-7"><a href="#cb11-7"></a><span class="bn">board_register_rsconnect(key = Sys.getenv("CONNECT_API_KEY"),</span></span>
<span id="cb11-8"><a href="#cb11-8"></a><span class="bn">                         server = Sys.getenv("CONNECT_SERVER"))</span></span>
<span id="cb11-9"><a href="#cb11-9"></a><span class="bn">```</span></span>
<span id="cb11-10"><a href="#cb11-10"></a></span>
<span id="cb11-11"><a href="#cb11-11"></a>Create the <span class="bn">`world_news`</span> data frame,</span>
<span id="cb11-12"><a href="#cb11-12"></a></span>
<span id="cb11-13"><a href="#cb11-13"></a><span class="bn">```{r  fig.align='center', warning=FALSE}</span></span>
<span id="cb11-14"><a href="#cb11-14"></a><span class="bn">library(xml2)</span></span>
<span id="cb11-15"><a href="#cb11-15"></a></span>
<span id="cb11-16"><a href="#cb11-16"></a><span class="bn">world_news &lt;- data.frame(title = xml_text(xml_find_all(</span></span>
<span id="cb11-17"><a href="#cb11-17"></a><span class="bn">  read_xml("http://feeds.bbci.co.uk/news/rss.xml"), "///item/title/node()")))</span></span>
<span id="cb11-18"><a href="#cb11-18"></a><span class="bn">```</span></span>
<span id="cb11-19"><a href="#cb11-19"></a></span>
<span id="cb11-20"><a href="#cb11-20"></a>Which you can then share as a pin,</span>
<span id="cb11-21"><a href="#cb11-21"></a></span>
<span id="cb11-22"><a href="#cb11-22"></a><span class="bn">```{r}</span></span>
<span id="cb11-23"><a href="#cb11-23"></a><span class="bn">pin(world_news, "worldnews", board = "rsconnect")</span></span>
<span id="cb11-24"><a href="#cb11-24"></a><span class="bn">```</span></span></code></pre></div>
<p>While you can run manually this report each time you need the <code>worldnews</code> pin updated, using automated techniques makes so much sense.</p>
<p>The <code>pins</code> package does not provide support to automate execution of R code; however, many tools and services can be used in combination with <code>pins</code> to update datasets with ease. For instance, when using GitHub, Travis can be used in combination with a <code>GITHUB_PAT</code> environment variable to knit this daily news report and update pins in GitHub. Similarly, using RStudio Connect, we can easily publish this report and configure RStudio Connect to run this report daily – the pin will then be kept up-to-date, every-day, automatically!</p>
<p>You can preview the <code>worldnews</code> dataset at <a href="https://beta.rstudioconnect.com/connect/#/apps/7532/access">beta.rstudioconnect.com/connect/#/apps/7532/access</a>:</p>
<p><a href="https://beta.rstudioconnect.com/connect/#/apps/7532/access"><img src="images/schedule-updates-rsconnect.png"></a></p>
</div>
<div id="data-pipelines" class="section level1">
<h1 class="hasAnchor">
<a href="#data-pipelines" class="anchor"></a>Data pipelines</h1>
<p>you can also consider creating code that depends on one or many pins to further process datasets or pin other objects like visualizations, models, and so on.</p>
<p>For instance, we could use the <code>worldnews</code> pin to create a deep learning model on a daily schedule. One of the state-of-the-art language models is <a href="https://openai.com/blog/better-language-models/">GPT-2</a>, which we can also use from R through the <a href="https://github.com/r-tensorflow/gpt2/">gpt2</a> package.</p>
<p>Let’s first install the package and dependencies,</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"r-tensorflow/gpt2"</span><span class="op">)</span>
<span class="fu">gpt2</span><span class="fu">::</span><span class="fu">install_gpt2</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>You can then retrieve the <code>worldnews</code> pin, apply the GPT-2 text generation model, and pin the result in a new pin – which essentially creates a simple data processing pipeline:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/rstudio/pins">pins</a></span><span class="op">)</span>

<span class="fu"><a href="../../reference/pin_get.html">pin_get</a></span><span class="op">(</span><span class="st">"worldnews"</span>, board <span class="op">=</span> <span class="st">"rsconnect"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">mutate</span><span class="op">(</span>generated <span class="op">=</span> <span class="fu">gpt2</span><span class="fu">::</span><span class="fu">gpt2</span><span class="op">(</span><span class="va">title</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../../reference/pin.html">pin</a></span><span class="op">(</span><span class="st">"news-generated"</span>, board <span class="op">=</span> <span class="st">"rsconnect"</span><span class="op">)</span></code></pre></div>
<p>You can preview this pipeline at <a href="https://beta.rstudioconnect.com/connect/#/apps/6565/access">beta.rstudioconnect.com/connect/#/apps/6565/access</a></p>
<p><a href="https://beta.rstudioconnect.com/connect/#/apps/6565/access"><img src="images/create-pipelines-rsconnect.png"></a></p>
<p>You can also automate this process by reusing the techniquest presented in the <a href="automate-dataset-updates.html">Automate Dataset Updates</a> use-case.</p>
</div>
<div id="plumber-and-shiny-apps" class="section level1">
<h1 class="hasAnchor">
<a href="#plumber-and-shiny-apps" class="anchor"></a>Plumber and Shiny apps</h1>
<p>Now you have a data pipeline, you might consider reusing the resources they produce in <a href="http://shiny.rstudio.com">Shiny</a> or <a href="https://www.rplumber.io/">Plumber</a> apps. This can be useful to componentize your application and avoid redeploying or restarting your application.</p>
<p>When using Plumber, you can simply use <code><a href="../../reference/pin_get.html">pin_get()</a></code> since this function is smart-enough to first check for updates before the resource is retrieved When using Shiny, you can use <code><a href="../../reference/pin_reactive.html">pin_reactive()</a></code> which automatically transforms the pin’s resource into a reactive to use from your application.</p>
<p>We can improve the pipeline from the <a href="create-data-pipelines.html">Create Data Pipelines</a> use-case by properly generating a web application to display the auto-generated news.</p>
<p>A Shiny application that reuses the <code>news-generated</code> pin looks as follows:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.rstudio.com/">shiny</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">dplyr</span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/rstudio/pins">pins</a></span><span class="op">)</span>

<span class="fu"><a href="../../reference/board_register.html">board_register</a></span><span class="op">(</span><span class="st">"rsconnect"</span>, server <span class="op">=</span> <span class="st">"https://beta.rstudioconnect.com"</span><span class="op">)</span>

<span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidPage</a></span><span class="op">(</span>
    <span class="va">tags</span><span class="op">$</span><span class="fu">head</span><span class="op">(</span><span class="va">tags</span><span class="op">$</span><span class="fu">style</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/htmltools/man/HTML.html">HTML</a></span><span class="op">(</span><span class="st">"pre { white-space: pre-wrap; }"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,
    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/titlePanel.html">titlePanel</a></span><span class="op">(</span><span class="st">"News from Headlines"</span><span class="op">)</span>,
    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidPage</a></span><span class="op">(</span>
        <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidRow</a></span><span class="op">(</span>
            <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/selectInput.html">selectInput</a></span><span class="op">(</span><span class="st">"newsHeadline"</span>, <span class="st">"Headline"</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"loading..."</span><span class="op">)</span>, size <span class="op">=</span> <span class="fl">10</span>, selectize <span class="op">=</span> <span class="cn">FALSE</span>, width <span class="op">=</span> <span class="st">"100%"</span><span class="op">)</span>
        <span class="op">)</span>,
        <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidRow</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/textOutput.html">verbatimTextOutput</a></span><span class="op">(</span><span class="st">"newsContent"</span><span class="op">)</span><span class="op">)</span>
    <span class="op">)</span>
<span class="op">)</span>

<span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span>
    <span class="va">news</span> <span class="op">&lt;-</span> <span class="fu"><a href="../../reference/pin_reactive.html">pin_reactive</a></span><span class="op">(</span><span class="st">"news-generated"</span>, board <span class="op">=</span> <span class="st">"rsconnect"</span><span class="op">)</span>

    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/observe.html">observe</a></span><span class="op">(</span><span class="op">{</span>
        <span class="va">choices</span> <span class="op">&lt;-</span> <span class="fu">pull</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/news.html">news</a></span><span class="op">(</span><span class="op">)</span>, <span class="va">title</span><span class="op">)</span>
        <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/updateSelectInput.html">updateSelectInput</a></span><span class="op">(</span>session <span class="op">=</span> <span class="va">session</span>, inputId <span class="op">=</span> <span class="st">"newsHeadline"</span>, choices <span class="op">=</span> <span class="va">choices</span>, selected <span class="op">=</span> <span class="va">choices</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span>
    <span class="op">}</span><span class="op">)</span>

    <span class="va">output</span><span class="op">$</span><span class="va">newsContent</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderPrint.html">renderText</a></span> <span class="op">(</span><span class="op">{</span>
        <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/news.html">news</a></span><span class="op">(</span><span class="op">)</span>, <span class="va">title</span> <span class="op">==</span> <span class="va">input</span><span class="op">$</span><span class="va">newsHeadline</span><span class="op">)</span> <span class="op">%&gt;%</span>
            <span class="fu">pull</span><span class="op">(</span><span class="va">generated</span><span class="op">)</span> <span class="op">%&gt;%</span>
            <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">newsHeadline</span>, <span class="va">.</span><span class="op">)</span> <span class="op">%&gt;%</span>
            <span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">"&lt;\\|endoftext\\|&gt;.*"</span>, <span class="st">""</span>, <span class="va">.</span><span class="op">)</span>
    <span class="op">}</span><span class="op">)</span>
<span class="op">}</span>

<span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html">shinyApp</a></span><span class="op">(</span>ui <span class="op">=</span> <span class="va">ui</span>, server <span class="op">=</span> <span class="va">server</span><span class="op">)</span></code></pre></div>
<p>You can then run this application locally, and even publish it to <a href="https://rstudio.com/products/shiny/shiny-server/">Shiny Server</a> or <a href="https://rstudio.com/products/connect/">RStudio Connect</a>. Notice that the news will update as soon as the <code>new-generated</code> pin is updated by the data pipeline previously defined. You can take a look at this application by visiting <a href="https://beta.rstudioconnect.com/connect/#/apps/6578/access">beta.rstudioconnect.com/connect/#/apps/6578/access</a>:</p>
<p><a href="https://beta.rstudioconnect.com/connect/#/apps/6578/access"><img src="images/update-shiny-rsconnect.png"></a></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="http://hadley.nz">Hadley Wickham</a>, Javier Luraschi.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
